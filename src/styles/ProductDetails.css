:root {
  /* --- KID THEME PALETTE --- */
  --pd-bg: #FFFFFF;
  --pd-surface: #F8F9FA;
  
  --pd-primary: #FF6B6B;       /* Strawberry */
  --pd-secondary: #4ECDC4;     /* Mint */
  --pd-accent: #FFD93D;        /* Yellow */
  --pd-text: #2D3436;
  --pd-gray: #A4B0BE;
  
  --pd-grad-btn: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%);
  
  --pd-radius-lg: 24px;
  --pd-radius-md: 16px;
  --pd-radius-sm: 8px;
  
  --pd-shadow: 0 10px 30px rgba(0,0,0,0.05);
  --pd-shadow-hover: 0 15px 35px rgba(255, 107, 107, 0.15);
  
  --pd-font: 'Nunito', 'Quicksand', sans-serif;
}

body {
  background-color: var(--pd-bg);
  color: var(--pd-text);
  font-family: var(--pd-font);
}

/* Loading & Error */
.pd-loading, .pd-error {
  min-height: 60vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  color: var(--pd-text);
  font-size: 1.2rem;
  gap: 15px;
}
.pd-spinner {
  width: 40px;
  height: 40px;
  border: 4px solid #f3f3f3;
  border-top: 4px solid var(--pd-primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

/* --- MAIN LAYOUT (Full Width) --- */
.pd-container {
  width: 100%;
  max-width: 100%; /* Removes max-width limit */
  margin: 0;
  padding: 30px 50px; /* Comfortable padding for PC */
  display: grid;
  grid-template-columns: 1.2fr 1fr; /* Gallery slightly larger */
  gap: 60px;
  box-sizing: border-box;
}

/* --- LEFT: GALLERY --- */
.pd-gallery {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.pd-main-image-frame {
  position: relative;
  aspect-ratio: 1 / 1;
  background: #FAFAFA;
  border-radius: var(--pd-radius-lg);
  overflow: hidden;
  border: 2px solid #F0F2F5;
  cursor: zoom-in;
}

.pd-main-image {
  width: 100%;
  height: 100%;
  object-fit: contain;
  transition: opacity 0.3s;
  opacity: 0;
}
.pd-main-image.loaded { opacity: 1; }

.pd-image-badge {
  position: absolute;
  top: 15px;
  right: 15px;
  background: var(--pd-primary);
  color: white;
  padding: 6px 12px;
  border-radius: 20px;
  font-weight: 800;
  font-size: 12px;
  display: flex;
  align-items: center;
  gap: 5px;
  box-shadow: 0 4px 0 rgba(0,0,0,0.1);
  transform: rotate(3deg);
}

.pd-swipe-dots {
  position: absolute;
  bottom: 15px;
  left: 0; right: 0;
  display: flex;
  justify-content: center;
  gap: 8px;
}

.pd-dot {
  width: 8px; height: 8px;
  background: rgba(0,0,0,0.2);
  border-radius: 50%;
}
.pd-dot.active { background: var(--pd-primary); transform: scale(1.2); }

.pd-thumbnails {
  display: flex;
  gap: 10px;
  overflow-x: auto;
  padding-bottom: 5px;
}

.pd-thumb {
  width: 80px; height: 80px;
  border-radius: var(--pd-radius-md);
  border: 2px solid transparent;
  overflow: hidden;
  cursor: pointer;
  opacity: 0.7;
  transition: all 0.2s;
  background: #FAFAFA;
}
.pd-thumb.active {
  border-color: var(--pd-primary);
  opacity: 1;
  transform: translateY(-2px);
}
.pd-thumb img { width: 100%; height: 100%; object-fit: cover; }

/* --- RIGHT: INFO --- */
.pd-info {
  display: flex;
  flex-direction: column;
  gap: 20px;
  padding-top: 20px;
}

.pd-header {
  border-bottom: 2px dashed #EEE;
  padding-bottom: 20px;
}

.pd-title {
  font-size: 32px;
  font-weight: 900;
  color: var(--pd-text);
  margin-bottom: 15px;
  line-height: 1.2;
}

/* Chips */
.pd-meta-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 15px;
}

.pd-chip {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  font-size: 13px;
  font-weight: 700;
  padding: 6px 12px;
  border-radius: var(--pd-radius-sm);
}

.pd-chip--sku { background: #F3E5F5; color: #8E24AA; }
.pd-chip--rating { background: #FFFDE7; color: #FBC02D; }
.pd-chip--tag { background: #FFE0B2; color: #E67E22; }
.pd-chip--box { background: #E3F2FD; color: #1976D2; }

.pd-review-count { font-weight: 400; color: #888; margin-left: 2px; }

/* Stock */
.pd-stock { font-size: 14px; font-weight: 700; display: flex; align-items: center; gap: 5px; }
.pd-stock--in { color: #2ecc71; }
.pd-stock--low { color: #f39c12; }
.pd-stock--out { color: var(--pd-primary); }

/* Price Block */
.pd-price-block {
  background: #FAFAFA;
  padding: 25px;
  border-radius: var(--pd-radius-lg);
  border: 1px solid #F0F0F0;
}

.pd-prices {
  display: flex;
  align-items: baseline;
  gap: 12px;
}

.pd-current-price {
  font-size: 42px;
  font-weight: 900;
  color: var(--pd-text);
}

.pd-mrp {
  font-size: 18px;
  text-decoration: line-through;
  color: var(--pd-gray);
  font-weight: 600;
}

.pd-savings-bubble {
  display: inline-block;
  background: #E8F5E9;
  color: #2E7D32;
  font-size: 13px;
  font-weight: 800;
  padding: 5px 12px;
  border-radius: 12px;
  margin-top: 8px;
}

.pd-min-qty {
  margin-top: 15px;
  font-size: 13px;
  color: #E67E22;
  background: #FFF3E0;
  padding: 6px 12px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  gap: 6px;
  font-weight: 700;
}

/* --- ACTIONS AREA --- */
.pd-actions-area {
  margin-top: 10px;
}

/* Add To Cart Button */
.pd-btn-cart {
  width: 100%;
  background: var(--pd-grad-btn);
  color: white;
  border: none;
  border-radius: var(--pd-radius-md);
  font-size: 18px;
  font-weight: 800;
  padding: 16px;
  display: flex; 
  align-items: center; 
  justify-content: center; 
  gap: 10px;
  cursor: pointer;
  box-shadow: 0 4px 0 #d64040;
  transition: transform 0.1s;
}
.pd-btn-cart:active { transform: translateY(4px); box-shadow: none; }
.pd-btn-cart:disabled { background: #EEE; color: #BBB; box-shadow: none; cursor: not-allowed; }

/* Quantity Wrapper (Replaces Add to Cart) */
.pd-qty-wrapper {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: #F0F2F5;
  border-radius: var(--pd-radius-md);
  padding: 5px;
  border: 2px solid #E1E1E1;
}

.pd-qty-btn {
  width: 50px; 
  height: 50px;
  border-radius: 14px;
  border: none;
  background: white;
  color: var(--pd-text);
  font-size: 20px;
  cursor: pointer;
  display: flex; 
  align-items: center; 
  justify-content: center;
  box-shadow: 0 3px 0 #DDD;
  transition: all 0.1s;
}
.pd-qty-btn.decrease { color: var(--pd-primary); font-size: 16px; font-weight: 700; }
.pd-qty-btn.increase { background: var(--pd-secondary); color: white; box-shadow: 0 3px 0 #2bcbba; }

.pd-qty-btn:active { transform: translateY(3px); box-shadow: none; }

.pd-qty-val {
  flex: 1;
  text-align: center;
  font-weight: 800;
  font-size: 24px;
  color: var(--pd-text);
}

/* Description Accordion */
.pd-desc-accordion {
  border: 2px solid #F0F2F5;
  border-radius: var(--pd-radius-md);
  overflow: hidden;
}

.pd-desc-header {
  padding: 18px;
  background: #FAFAFA;
  cursor: pointer;
  display: flex; justify-content: space-between; align-items: center;
}
.pd-desc-header h3 { margin: 0; font-size: 18px; font-weight: 800; }

.pd-desc-body {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease;
  padding: 0 18px;
}

.pd-desc-accordion.open .pd-desc-body {
  max-height: 800px;
  padding-bottom: 18px;
}

.pd-desc-body ul { padding-left: 20px; color: #555; line-height: 1.6; font-size: 15px; }

/* --- RELATED PRODUCTS --- */
.pd-related-section {
  width: 100%;
  padding: 0 50px; /* Match container padding */
  margin-top: 60px;
}

.pd-section-title {
  font-size: 26px;
  font-weight: 900;
  margin-bottom: 20px;
  color: var(--pd-text);
}

.pd-related-scroll {
  display: flex;
  gap: 20px;
  overflow-x: auto;
  padding-bottom: 20px;
}

.pd-related-item {
  flex: 0 0 280px;
}

/* --- MOBILE --- */
@media (max-width: 900px) {
  .pd-container {
    padding: 15px;
    grid-template-columns: 1fr;
    gap: 25px;
  }
  
  .pd-gallery { gap: 10px; }
  
  .pd-title { font-size: 24px; }
  
  .pd-actions-area {
    position: fixed;
    bottom: 0; left: 0; right: 0;
    background: white;
    padding: 12px 20px 30px 20px; /* Safe area padding */
    border-top: 1px solid #EEE;
    box-shadow: 0 -5px 20px rgba(0,0,0,0.05);
    z-index: 100;
  }
  
  .pd-related-section { padding: 0 15px; }
  
  /* Push content up so fixed button doesn't hide it */
  .pd-price-block { margin-bottom: 0; }
  
  .pd-related-item { flex: 0 0 180px; }
}